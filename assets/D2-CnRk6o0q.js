import{c as v,V as g}from"./color-Cgs3GWPp.js";import{a as w,V as _}from"./VCard-BM2rNW2X.js";import{a4 as E,w as C,o as I,a6 as V,a7 as p,e as P,a as r,a0 as b}from"./index-BCyeRGzw.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VDivider-TvfL4kQr.js";const L=E({__name:"D2",props:{input:{}},emits:["onFinished"],setup(q,{emit:x}){const d=q,S=x,T=n=>{const e=document.getElementById("partOne");if(e){const t=e.getContext("2d");if(t){t.translate(.5,.5);const o=10;t.strokeStyle="#ff0000";const u=Math.max.apply(null,n.map(a=>a.sequence.length))-1,f=n.filter(a=>a.validPartOne).length,m=v(g,f);let h=0;const c=a=>{a.validPartOne?(t.lineWidth=2,t.strokeStyle=m[h++]):(t.lineWidth=1,t.strokeStyle="#777777"),t.beginPath(),a.sequence.forEach((s,i)=>{t.lineTo(i*(100/u)*o,(100-s)*o)}),t.stroke()};n.filter(a=>!a.validPartOne).forEach(c),n.filter(a=>a.validPartOne).forEach(c)}}},k=n=>{const e=document.getElementById("partTwo");if(e){const t=e.getContext("2d");if(t){t.translate(.5,.5);const o=10;t.strokeStyle="#ff0000";const u=Math.max.apply(null,n.map(a=>a.reducedSequence.length))-1,f=n.filter(a=>a.validPartTwo).length,m=v(g,f);let h=0;const c=a=>{console.log(a);let s;a.validPartTwo?(t.lineWidth=2,t.strokeStyle=m[h++],s=a.reducedSequence):(t.lineWidth=1,t.strokeStyle="#777777",s=a.sequence),t.beginPath(),s.forEach((i,O)=>{i!==null&&t.lineTo(O*(100/u)*o,(100-i)*o)}),t.stroke()};n.filter(a=>!a.validPartTwo).forEach(c),n.filter(a=>a.validPartTwo).forEach(c)}}},l=n=>{for(let e=1;e<n.length;e++){const t=n[e]-n[e-1];if(t<1||t>3)return!1}return!0},y=()=>{if(d.input){const n=d.input.map(e=>({sequence:e.split(" ").map(Number),validPartOne:!1,validPartTwo:!1,reducedSequence:[]}));n.forEach(e=>{if(l(e.sequence)||l(e.sequence.concat().reverse())){e.validPartOne=!0,e.validPartTwo=!0,e.reducedSequence=e.sequence.concat();return}for(let t=0;t<e.sequence.length;t++){const o=e.sequence.concat();if(o.splice(t,1),l(o)||l(o.concat().reverse())){o.splice(t,0,null),e.validPartTwo=!0,e.reducedSequence=o;break}}}),S("onFinished",n.filter(e=>e.validPartOne).length,n.filter(e=>e.validPartTwo).length),b(()=>{T(n),k(n)})}};return C(()=>d.input,()=>y(),{immediate:!0}),(n,e)=>(I(),V(_,null,{default:p(()=>[P(w,{cols:"12",md:"6"},{default:p(()=>e[0]||(e[0]=[r("div",{class:"canvas-holder mb-5 text-center"},[r("canvas",{id:"partOne",class:"canvas",height:"1000",width:"1000"})],-1)])),_:1}),P(w,{cols:"12",md:"6"},{default:p(()=>e[1]||(e[1]=[r("div",{class:"canvas-holder mb-5 text-center"},[r("canvas",{id:"partTwo",class:"canvas",height:"1000",width:"1000"})],-1)])),_:1})]),_:1}))}}),R=B(L,[["__scopeId","data-v-48da9880"]]);export{R as default};

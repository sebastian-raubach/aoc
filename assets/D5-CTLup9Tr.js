import{a as T}from"./_commonjsHelpers-C4iS2aBk.js";import{a4 as V,w as z,o as R,c as G}from"./index-CbMlFSxH.js";var j={exports:{}};(function(S){var U=(()=>{var f=Object.defineProperty,M=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,w=(c,r,o)=>r in c?f(c,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[r]=o,I=(c,r)=>{for(var o in r||(r={}))d.call(r,o)&&w(c,o,r[o]);if(b)for(var o of b(r))v.call(r,o)&&w(c,o,r[o]);return c},q=(c,r)=>{for(var o in r)f(c,o,{get:r[o],enumerable:!0})},l=(c,r,o,y)=>{if(r&&typeof r=="object"||typeof r=="function")for(let m of P(r))!d.call(c,m)&&m!==o&&f(c,m,{get:()=>r[m],enumerable:!(y=M(r,m))||y.enumerable});return c},_=c=>l(f({},"__esModule",{value:!0}),c),t=(c,r,o)=>w(c,typeof r!="symbol"?r+"":r,o),E={};q(E,{DEFAULT_OPTIONS:()=>N,DEFAULT_UUID_LENGTH:()=>x,default:()=>B});var F="5.3.2",x=6,N={dictionary:"alphanum",shuffle:!0,debug:!1,length:x,counter:0},O=class{constructor(r={}){t(this,"counter"),t(this,"debug"),t(this,"dict"),t(this,"version"),t(this,"dictIndex",0),t(this,"dictRange",[]),t(this,"lowerBound",0),t(this,"upperBound",0),t(this,"dictLength",0),t(this,"uuidLength"),t(this,"_digit_first_ascii",48),t(this,"_digit_last_ascii",58),t(this,"_alpha_lower_first_ascii",97),t(this,"_alpha_lower_last_ascii",123),t(this,"_hex_last_ascii",103),t(this,"_alpha_upper_first_ascii",65),t(this,"_alpha_upper_last_ascii",91),t(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),t(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),t(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),t(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),t(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),t(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),t(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),t(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),t(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),t(this,"log",(...i)=>{const e=[...i];if(e[0]="[short-unique-id] ".concat(i[0]),this.debug===!0&&typeof console<"u"&&console!==null){console.log(...e);return}}),t(this,"_normalizeDictionary",(i,e)=>{let s;if(i&&Array.isArray(i)&&i.length>1)s=i;else{s=[],this.dictIndex=0;const h="_".concat(i,"_dict_ranges"),a=this._dict_ranges[h];let n=0;for(const[,D]of Object.entries(a)){const[p,C]=D;n+=Math.abs(C-p)}s=new Array(n);let u=0;for(const[,D]of Object.entries(a)){this.dictRange=D,this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1];const p=this.lowerBound<=this.upperBound,C=this.lowerBound,L=this.upperBound;if(p)for(let g=C;g<L;g++)s[u++]=String.fromCharCode(g),this.dictIndex=g;else for(let g=C;g>L;g--)s[u++]=String.fromCharCode(g),this.dictIndex=g}s.length=u}if(e){const h=s.length;for(let a=h-1;a>0;a--){const n=Math.floor(Math.random()*(a+1));[s[a],s[n]]=[s[n],s[a]]}}return s}),t(this,"setDictionary",(i,e)=>{this.dict=this._normalizeDictionary(i,e),this.dictLength=this.dict.length,this.setCounter(0)}),t(this,"seq",()=>this.sequentialUUID()),t(this,"sequentialUUID",()=>{const i=this.dictLength,e=this.dict;let s=this.counter;const h=[];do{const n=s%i;s=Math.trunc(s/i),h.push(e[n])}while(s!==0);const a=h.join("");return this.counter+=1,a}),t(this,"rnd",(i=this.uuidLength||x)=>this.randomUUID(i)),t(this,"randomUUID",(i=this.uuidLength||x)=>{if(i===null||typeof i>"u"||i<1)throw new Error("Invalid UUID Length Provided");const e=new Array(i),s=this.dictLength,h=this.dict;for(let a=0;a<i;a++){const n=Math.floor(Math.random()*s);e[a]=h[n]}return e.join("")}),t(this,"fmt",(i,e)=>this.formattedUUID(i,e)),t(this,"formattedUUID",(i,e)=>{const s={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return i.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,a=>{const n=a.slice(0,2),u=Number.parseInt(a.slice(2),10);return n==="$s"?s[n]().padStart(u,"0"):n==="$t"&&e?s[n](u,e):s[n](u)})}),t(this,"availableUUIDs",(i=this.uuidLength)=>Number.parseFloat(([...new Set(this.dict)].length**i).toFixed(0))),t(this,"_collisionCache",new Map),t(this,"approxMaxBeforeCollision",(i=this.availableUUIDs(this.uuidLength))=>{const e=i,s=this._collisionCache.get(e);if(s!==void 0)return s;const h=Number.parseFloat(Math.sqrt(Math.PI/2*i).toFixed(20));return this._collisionCache.set(e,h),h}),t(this,"collisionProbability",(i=this.availableUUIDs(this.uuidLength),e=this.uuidLength)=>Number.parseFloat((this.approxMaxBeforeCollision(i)/this.availableUUIDs(e)).toFixed(20))),t(this,"uniqueness",(i=this.availableUUIDs(this.uuidLength))=>{const e=Number.parseFloat((1-this.approxMaxBeforeCollision(i)/i).toFixed(20));return e>1?1:e<0?0:e}),t(this,"getVersion",()=>this.version),t(this,"stamp",(i,e)=>{const s=Math.floor(+(e||new Date)/1e3).toString(16);if(typeof i=="number"&&i===0)return s;if(typeof i!="number"||i<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join(`
`));const h=i-9,a=Math.round(Math.random()*(h>15?15:h)),n=this.randomUUID(h);return"".concat(n.substring(0,a)).concat(s).concat(n.substring(a)).concat(a.toString(16))}),t(this,"parseStamp",(i,e)=>{if(e&&!/t0|t[1-9]\d{1,}/.test(e))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");const s=e?e.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,a=>{const n={$r:p=>[...Array(p)].map(()=>"r").join(""),$s:p=>[...Array(p)].map(()=>"s").join(""),$t:p=>[...Array(p)].map(()=>"t").join("")},u=a.slice(0,2),D=Number.parseInt(a.slice(2),10);return n[u](D)}).replace(/^(.*?)(t{8,})(.*)$/g,(a,n,u)=>i.substring(n.length,n.length+u.length)):i;if(s.length===8)return new Date(Number.parseInt(s,16)*1e3);if(s.length<10)throw new Error("Stamp length invalid");const h=Number.parseInt(s.substring(s.length-1),16);return new Date(Number.parseInt(s.substring(h,h+8),16)*1e3)}),t(this,"setCounter",i=>{this.counter=i}),t(this,"validate",(i,e)=>{const s=e?this._normalizeDictionary(e):this.dict;return i.split("").every(h=>s.includes(h))});const o=I(I({},N),r);this.counter=0,this.debug=!1,this.dict=[],this.version=F;const{dictionary:y,shuffle:m,length:$,counter:A}=o;this.uuidLength=$,this.setDictionary(y,m),this.setCounter(A),this.debug=o.debug,this.log(this.dict),this.log("Generator instantiated with Dictionary Size ".concat(this.dictLength," and counter set to ").concat(this.counter)),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this)}};t(O,"default",O);var B=O;return _(E)})();S.exports=U.default,typeof window<"u"&&(U=U.default)})(j);var H=j.exports;const J=T(H),K=new J({dictionary:["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","-","_"],length:16}),Q=()=>K.randomUUID(),Z=V({__name:"D5",props:{input:{}},emits:["onFinished"],setup(S,{emit:U}){const f=S,M=U,P=()=>{if(f.input){let b=!1,d=[];const v=[];f.input.forEach(l=>{if(l==="")b=!0;else if(b)v.push(+l);else{const[_,t]=l.split("-").map(Number);d.push({start:_,end:t,id:Q()})}});const w=v.filter(l=>d.some(_=>_.start<=l&&_.end>=l)).length;let I=!0;for(;I;){const l=new Set;d.forEach(_=>{l.has(_.id)||d.filter(t=>_.id!==t.id&&!(_.end<t.start||t.end<_.start)).forEach(t=>{_.start=Math.min(_.start,t.start),_.end=Math.max(_.end,t.end),l.add(t.id)})}),d=d.filter(_=>!l.has(_.id)),I=l.size>0}const q=d.map(l=>l.end-l.start+1).reduce((l,_)=>l+_,0);M("onFinished",w,q)}};return z(()=>f.input,()=>P(),{immediate:!0}),(b,d)=>(R(),G("span"))}});export{Z as default};

import{c as L,V as S}from"./color-Cgs3GWPp.js";import{r as $}from"./math-BfW4n0ha.js";import{a as V,V as B}from"./VCard-BnQ5Neqw.js";import{a4 as D,r as _,w as G,o as N,a6 as O,a7 as g,e as b,a as f,ac as m,ab as k,a0 as R}from"./index-Mb-YhgmZ.js";import"./VDivider-DZ9R5T7e.js";const A={class:"day-2024-4-code border"},F=["innerHTML"],I={class:"day-2024-4-code border"},X=["innerHTML"],Q=D({__name:"D4",props:{input:{}},emits:["onFinished"],setup(v,{emit:w}){const u=v,E=w,x=_(""),y=_(""),j=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],c=["X","M","A","S"];let p=[["M",void 0,"M"],[void 0,"A",void 0],["S",void 0,"S"]];const M=[p];for(let n=0;n<3;n++)p=$(p),M.push(p);let a,d,i;const C=n=>M.some(o=>{for(let t=0;t<3;t++)for(let e=0;e<3;e++)if(o[t][e]!==void 0&&o[t][e]!==a[n.y+t][n.x+e])return!1;return!0}),T=(n,o,t)=>{if(t>=c.length)return!0;const e={x:n.x+o[0],y:n.y+o[1]};return e.x<0||e.x>=a[0].length||e.y<0||e.y>=a.length?!1:a[e.y][e.x]===c[t]?T(e,o,t+1):!1},H=()=>{if(u.input){a=u.input.map(t=>t.split("")),d=a.map(t=>t.map(()=>0)),i=a.map(t=>t.map(()=>0));let n=0,o=0;for(let t=0;t<a.length;t++)for(let e=0;e<a[t].length;e++)a[t][e]===c[0]&&j.forEach(s=>{if(T({x:e,y:t},s,1)){for(let r=0;r<c.length;r++)d[t+r*s[1]][e+r*s[0]]++;n++}}),t<a.length-2&&e<a.length-2&&C({x:e,y:t})&&(i[t][e]++,i[t][e+2]++,i[t+2][e]++,i[t+1][e+1]++,i[t+2][e+2]++,o++);E("onFinished",n,o),R(()=>{let t=0;d.forEach(s=>s.forEach(r=>{t=Math.max(t,r)})),i.forEach(s=>s.forEach(r=>{t=Math.max(t,r)}));const e=L(S,t*10);x.value=d.map((s,r)=>s.map((l,h)=>`<span class="day-2024-4-match" style="background-color: ${e[l*10]}">${l?a[r][h]:"."}</span>`).join("")).join("<br>"),y.value=i.map((s,r)=>s.map((l,h)=>`<span class="day-2024-4-match" style="background-color: ${e[l*10]}">${l?a[r][h]:"."}</span>`).join("")).join("<br>")})}};return G(()=>u.input,()=>H(),{immediate:!0}),(n,o)=>(N(),O(B,null,{default:g(()=>[b(V,{cols:"12",md:"6"},{default:g(()=>[f("pre",A,[o[0]||(o[0]=m("")),f("code",{innerHTML:k(x)},null,8,F),o[1]||(o[1]=m(`
      `))])]),_:1}),b(V,{cols:"12",md:"6"},{default:g(()=>[f("pre",I,[o[2]||(o[2]=m("")),f("code",{innerHTML:k(y)},null,8,X),o[3]||(o[3]=m(`
      `))])]),_:1})]),_:1}))}});export{Q as default};

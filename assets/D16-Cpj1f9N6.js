import{p as V}from"./index-CrTQY8dy.js";import{c as q,V as b}from"./color-Cgs3GWPp.js";import{a4 as P,v as R,o as k,c as D,a as N,r as O,w as z,ab as $,a6 as F,ah as Q,a0 as W}from"./index-DYWO6YIa.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={id:"holder",class:"canvas-holder"},T=P({__name:"V16",props:{grid:{},path:{},onPath:{}},setup(v){const n=v,g=()=>{var r;const i=Math.max(1,Math.floor((((r=document.getElementById("holder"))==null?void 0:r.offsetWidth)||1)/n.grid[0].length)),c=document.getElementById("partOne"),s=c.getContext("2d");c.width=n.grid[0].length*i+1,c.height=n.grid.length*i+1,s.translate(.5,.5),s.lineWidth=.5,s.fillStyle="#222222",s.fillRect(0,0,c.width,c.height);for(let e=0;e<n.grid.length;e++)for(let a=0;a<n.grid[e].length;a++)n.grid[e][a]==="."?s.fillStyle="#2f3542":n.grid[e][a]==="#"&&(s.fillStyle="#57606f"),s.fillRect(a*i,e*i,i,i);const E=q(b,n.path[n.path.length-1].cost+1);n.path.forEach(e=>{s.fillStyle=E[e.cost],s.fillRect(e.position.x*i,e.position.y*i,i,i)}),s.fillStyle="#57606f",n.onPath.forEach(e=>{const[a,y]=e.split("|").map(Number);s.beginPath(),s.arc(a*i+i/2,y*i+i/2,i/4,0,2*Math.PI),s.fill()})};return R(()=>g()),(i,c)=>(k(),D("div",G,c[0]||(c[0]=[N("canvas",{id:"partOne",class:"canvas",height:"500",width:"500"},null,-1)])))}}),A=j(T,[["__scopeId","data-v-e17ef0ec"]]),X=P({__name:"D16",props:{input:{}},emits:["onFinished"],setup(v,{emit:n}){const g=v,i=n,c=O(!1),s={">":["^","v"],"<":["^","v"],"^":["<",">"],v:["<",">"]},E={">":[1,0],"<":[-1,0],"^":[0,-1],v:[0,1]},r={x:0,y:0},e={x:0,y:0};let a,y;const m=new Set,B=()=>{var d,S,C;const x=(_,l)=>_.cost-l.cost,f=new V.PriorityQueue(x),h={};let p=0;f.enqueue({position:{x:r.x,y:r.y},cost:0,path:[{position:{x:r.x,y:r.y},cost:0,facing:">"}],facing:">"}),h[`${r.x}|${r.y}|>`]=0;let o;for(;f.size()>0;){if(o=f.dequeue(),o.position.x===e.x&&o.position.y===e.y){p===0?(p=o.cost,(d=o.path)==null||d.forEach(t=>m.add(`${t.position.x}|${t.position.y}`)),y=o.path||[]):o.cost===p&&((S=o.path)==null||S.forEach(t=>m.add(`${t.position.x}|${t.position.y}`)));continue}const _=E[o.facing||">"],l={x:o.position.x+_[0],y:o.position.y+_[1]};if(l.x<0||l.y<0||l.x>=a[0].length||l.y>=a.length)continue;const w=[];if(a[l.y][l.x]==="."){const t=((C=o.path)==null?void 0:C.concat())||[];t.push({position:l,cost:o.cost+1,facing:o.facing}),w.push({position:l,facing:o.facing,cost:o.cost+1,path:t})}s[o.facing||">"].forEach(t=>{var I;const u=((I=o.path)==null?void 0:I.concat())||[];u.push({position:o.position,cost:o.cost+1e3,facing:t}),w.push({position:o.position,facing:t,cost:o.cost+1e3,path:u})}),w.forEach(t=>{const u=h[`${t.position.x}|${t.position.y}|${t.facing}`];(p===0||t.cost<=p)&&(u==null?(f.enqueue(t),h[`${t.position.x}|${t.position.y}|${t.facing}`]=t.cost):t.cost<=u&&(f.enqueue(t),h[`${t.position.x}|${t.position.y}|${t.facing}`]=t.cost))})}return p},M=()=>{if(g.input){a=g.input.map((f,h)=>{const p=f.split("");return p.forEach((o,d)=>{o==="S"?(p[d]=".",r.x=d,r.y=h):o==="E"&&(p[d]=".",e.x=d,e.y=h)}),p});const x=B();i("onFinished",x,m.size),W(()=>{c.value=!0})}};return z(()=>g.input,()=>M(),{immediate:!0}),(x,f)=>$(c)?(k(),F(A,{key:0,grid:$(a),"on-path":$(m),path:$(y)},null,8,["grid","on-path","path"])):Q("",!0)}});export{X as default};

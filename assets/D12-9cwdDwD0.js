import{c as N,V as O}from"./color-Cgs3GWPp.js";import{a as E,V as R}from"./VCard-m0xmrgVp.js";import{a4 as I,v as D,o as b,a6 as B,a7 as M,e as S,a as _,r as F,w as z,ab as k,ah as G,a0 as P}from"./index-AEpBT1OT.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VDivider-j71MOQgQ.js";const j=I({__name:"V12",props:{grid:{},areas:{}},setup(V){const u=V,p=($,h)=>{const w=u.grid[0].length,g=u.grid.length,o=7,y=document.getElementById($);y.width=w*o+1,y.height=g*o+1;const a=y.getContext("2d");a.translate(.5,.5),a.lineWidth=.5,a.strokeStyle="white";let v=0;u.areas.forEach(s=>{v=Math.max(v,s.coords.length*s.fences.length+1)});const l=N(O,v);u.areas.forEach(s=>{a.fillStyle=l[s.coords.length*(h?s.sideCount:s.fences.length)],s.coords.forEach(e=>{a.fillRect(e.x*o,e.y*o,o,o)}),s.fences.forEach(e=>{a.beginPath(),e.orientation==="v"?(a.moveTo(Math.ceil(e.x)*o,e.y*o),a.lineTo(Math.ceil(e.x)*o,(e.y+1)*o)):(a.moveTo(e.x*o,Math.ceil(e.y)*o),a.lineTo((e.x+1)*o,Math.ceil(e.y)*o)),a.stroke()})})};return D(()=>{p("partOne",!1),p("partTwo",!0)}),($,h)=>(b(),B(R,null,{default:M(()=>[S(E,{cols:"12",md:"6"},{default:M(()=>h[0]||(h[0]=[_("div",{class:"canvas-holder"},[_("canvas",{id:"partOne",class:"canvas",height:"500",width:"500"})],-1)])),_:1}),S(E,{cols:"12",md:"6"},{default:M(()=>h[1]||(h[1]=[_("div",{class:"canvas-holder"},[_("canvas",{id:"partTwo",class:"canvas",height:"500",width:"500"})],-1)])),_:1})]),_:1}))}}),q=W(j,[["__scopeId","data-v-88fd0d8e"]]),Q=I({__name:"D12",props:{input:{}},emits:["onFinished"],setup(V,{emit:u}){const p=V,$=u,h=[{x:-1,y:0,outside:-1,orientation:"v"},{x:1,y:0,outside:1,orientation:"v"},{x:0,y:-1,outside:-1,orientation:"h"},{x:0,y:1,outside:1,orientation:"h"}],w=F(!1),g=new Set;let o;const y=[],a=(l,s)=>{const e=new Set;e.add(`${l.x}|${l.y}`);let c=[l];const d=new Set;for(;c.length>0;){const t=[];c.forEach(n=>{g.add(`${n.x}|${n.y}`),h.forEach(r=>{const i={x:n.x+r.x,y:n.y+r.y};i.x<0||i.y<0||i.x>=o[0].length||i.y>=o.length?d.add(`${n.x+r.x*.5}|${n.y+r.y*.5}|${r.orientation}|${r.outside}`):o[i.y][i.x]===s?!g.has(`${i.x}|${i.y}`)&&!t.some(T=>T.x===i.x&&T.y===i.y)&&(t.push(i),e.add(`${i.x}|${i.y}`)):d.add(`${n.x+r.x*.5}|${n.y+r.y*.5}|${r.orientation}|${r.outside}`)})}),c=t}const C=[...d].map(t=>{const n=t.split("|");return{x:+n[0],y:+n[1],orientation:n[2],outside:+n[3]}}),x=C.concat().filter(t=>t.orientation==="v").sort((t,n)=>t.x-n.x||t.y-n.y);let m=1;for(let t=1;t<x.length;t++)x[t].x===x[t-1].x?(Math.abs(x[t].y-x[t-1].y)!==1||x[t].outside!==x[t-1].outside)&&m++:m++;const f=C.concat().filter(t=>t.orientation==="h").sort((t,n)=>t.y-n.y||t.x-n.x);m++;for(let t=1;t<f.length;t++)f[t].y===f[t-1].y?(Math.abs(f[t].x-f[t-1].x)!==1||f[t].outside!==f[t-1].outside)&&m++:m++;return{coords:[...e].map(t=>{const[n,r]=t.split("|").map(Number);return{x:n,y:r}}),fences:C,sideCount:m}},v=()=>{if(p.input){o=p.input.map(e=>e.split(""));let l=0,s=0;for(let e=0;e<o.length;e++)for(let c=0;c<o[e].length;c++)if(!g.has(`${c}|${e}`)){const d=a({x:c,y:e},o[e][c]);l+=d.coords.length*d.fences.length,s+=d.coords.length*d.sideCount,y.push(d)}$("onFinished",l,s),P(()=>{w.value=!0})}};return z(()=>p.input,()=>v(),{immediate:!0}),(l,s)=>k(w)?(b(),B(q,{key:0,areas:y,grid:k(o)},null,8,["grid"])):G("",!0)}});export{Q as default};

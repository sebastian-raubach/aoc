import{a4 as l,w as m,o as f,c as g}from"./index-tHse_ObI.js";function _(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,x=>{const a=Math.trunc(Math.random()*16);return(x==="x"?a:a&3|8).toString(16)})}const E=l({__name:"D5",props:{input:{}},emits:["onFinished"],setup(x,{emit:a}){const i=x,d=a,u=()=>{if(i.input){let o=!1,s=[];const r=[];i.input.forEach(e=>{if(e==="")o=!0;else if(o)r.push(+e);else{const[t,n]=e.split("-").map(Number);s.push({start:t,end:n,id:_()})}});const p=r.filter(e=>s.some(t=>t.start<=e&&t.end>=e)).length;let c=!0;for(;c;){const e=new Set;s.forEach(t=>{e.has(t.id)||s.filter(n=>t.id!==n.id&&!(t.end<n.start||n.end<t.start)).forEach(n=>{t.start=Math.min(t.start,n.start),t.end=Math.max(t.end,n.end),e.add(n.id)})}),s=s.filter(t=>!e.has(t.id)),c=e.size>0}const h=s.map(e=>e.end-e.start+1).reduce((e,t)=>e+t,0);d("onFinished",p,h)}};return m(()=>i.input,()=>u(),{immediate:!0}),(o,s)=>(f(),g("span"))}});export{E as default};

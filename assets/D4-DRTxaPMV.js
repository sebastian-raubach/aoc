import{c as M,V as k}from"./color-Cgs3GWPp.js";import{a as O,V as $}from"./VCard-BGthJdsU.js";import{a4 as B,v as F,o as N,a6 as R,a7 as T,e as y,a as _,r as v,w as G,ab as f,ah as q}from"./index-tHse_ObI.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{d as E}from"./set-PLrlp8UU.js";import"./VDivider-CT6OqfTs.js";const D=B({__name:"V4",props:{width:{},height:{},grid:{},pOne:{},pTwo:{}},setup(S){const r=S;let l,p=[];const d=t=>{var a;const e=Math.max(1,Math.floor((((a=document.getElementById("holder"+t))==null?void 0:a.offsetWidth)||1)/r.width)),n=document.getElementById("part"+t),o=n.getContext("2d");return n.width=r.width*e+1,n.height=r.height*e+1,o.translate(.5,.5),o.lineWidth=.5,o.fillStyle="#2f3542",o.strokeStyle="#57606f",o.fillRect(0,0,n.width,n.height),o.strokeRect(0,0,n.width-1,n.height-1),o.fillStyle="#57606f",r.grid.forEach(i=>{const[s,c]=i.split("|").map(Number);o.fillRect(c*e,s*e,e,e)}),{canvas:n,ctx:o,factor:e,index:0}},u=()=>{const t=d("One");t.ctx.fillStyle=p[0],r.pOne.forEach(e=>{const[n,o]=e.split("|").map(Number);t.ctx.fillRect(o*t.factor,n*t.factor,t.factor,t.factor)})},h=()=>{const t=l;if(t.index<r.pTwo.length){const e=r.pTwo[t.index++];t.ctx.fillStyle=p[t.index],e.forEach(n=>{const[o,a]=n.split("|").map(Number);t.ctx.fillRect(a*t.factor,o*t.factor,t.factor,t.factor)}),window.requestAnimationFrame(h)}},x=()=>{l=d("Two"),window.requestAnimationFrame(h)};return F(()=>{p=M(k,r.pTwo.length),u(),x()}),(t,e)=>(N(),R($,null,{default:T(()=>[y(O,{cols:"12",md:"6"},{default:T(()=>e[0]||(e[0]=[_("div",{id:"holderOne",class:"canvas-holder"},[_("canvas",{id:"partOne",class:"canvas",height:"500",width:"500"})],-1)])),_:1}),y(O,{cols:"12",md:"6"},{default:T(()=>e[1]||(e[1]=[_("div",{id:"holderTwo",class:"canvas-holder"},[_("canvas",{id:"partTwo",class:"canvas",height:"500",width:"500"})],-1)])),_:1})]),_:1}))}}),W=A(D,[["__scopeId","data-v-2b5f42b7"]]),P=B({__name:"D4",props:{input:{}},emits:["onFinished"],setup(S,{emit:r}){const l=S,p=r,d=v(0),u=v(0),h=v([]),x=v([]),t=v([]),e=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],n=()=>{if(l.input){let a=0,i=0;const s=new Set;l.input.forEach((V,g)=>{const C=V.split("");return d.value=Math.max(d.value,g),C.forEach((I,b)=>{u.value=Math.max(u.value,b),I==="@"&&s.add(`${g}|${b}`)})}),h.value=[...s];const c=new Set(s);a=o(c),x.value=[...E(new Set(h.value),c)];const m=[[...s]];let w=0;do w=o(s),i+=w,t.value.push([...E(new Set(m[m.length-1]),s)]),m.push([...s]);while(w>0);p("onFinished",a,i)}};function o(a){const i=new Set(a);let s=0;return a.forEach(c=>{const[m,w]=c.split("|").map(Number);e.map(g=>i.has(`${m+g[0]}|${w+g[1]}`)).filter(Boolean).length<4&&(s++,a.delete(c))}),s}return G(()=>l.input,()=>n(),{immediate:!0}),(a,i)=>f(t).length>0?(N(),R(W,{key:0,grid:f(h),height:f(d),"p-one":f(x),"p-two":f(t),width:f(u)},null,8,["grid","height","p-one","p-two","width"])):q("",!0)}});export{P as default};

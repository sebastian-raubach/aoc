import{a as P,c as V,V as k}from"./color-Cgs3GWPp.js";import{a as G,V as R}from"./VCard-kefcp7O3.js";import{a4 as C,v as B,o as M,a6 as S,a7 as _,e as $,a as u,r as T,w as F,ab as v,ah as O,a0 as q}from"./index-BgPGxWCm.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VDivider-Bj5NHmL0.js";const A=C({__name:"V10",props:{grid:{},paths:{}},setup(y){const p=y;let h,n;const t={bgGradient:[],fgGradient:[],factor:15,startIndex:0,pathIndex:0,pathPosition:0,keys:[],paths:new Map},d=()=>{n.fillStyle="#222222",n.fillRect(0,0,h.width,h.height);const f=p.grid[0].length,c=p.grid.length;for(let e=0;e<c;e++)for(let a=0;a<f;a++)n.fillStyle=t.bgGradient[p.grid[e][a]],n.fillRect(a*t.factor,e*t.factor,t.factor,t.factor)},w=()=>{var c;const f=t.paths.get(t.keys[t.startIndex]);if(f&&t.pathPosition===f[t.pathIndex].length&&(t.pathPosition=0,t.pathIndex++,d()),t.pathIndex===((c=t.paths.get(t.keys[t.startIndex]))==null?void 0:c.length)&&(t.pathIndex=0,t.startIndex++,d()),t.startIndex<t.keys.length){const e=t.paths.get(t.keys[t.startIndex]);if(e){const a=e[t.pathIndex];for(let r=0;r<a.length;r++){const o=a[r];n.fillStyle=t.fgGradient[p.grid[o.y][o.x]],n.fillRect(o.x*t.factor,o.y*t.factor,t.factor,t.factor)}t.pathPosition=a.length,window.requestAnimationFrame(()=>w())}}},x=()=>{t.startIndex=0,t.pathIndex=0,t.pathPosition=0,t.bgGradient=P("#2f3542","#57606f",10);const f=p.grid[0].length,c=p.grid.length;h=document.getElementById("partOne"),h.width=f*t.factor+1,h.height=c*t.factor+1,n=h.getContext("2d"),n.translate(.5,.5),n.lineWidth=1,d();const e=[],a=new Map;let r=0;p.paths.forEach((s,l)=>{const[i,m]=l.split("|").map(Number);e.push({x:i,y:m}),s.forEach(N=>{const E=N.split("_");E.pop();const I=E.pop();if(I){const b=(a.get(I)||0)+1;a.set(I,b),r=Math.max(r,b)}})});const o=V(k,r);n.strokeStyle="white",e.forEach(s=>{n.strokeRect(s.x*t.factor,s.y*t.factor,t.factor,t.factor)}),a.forEach((s,l)=>{const[i,m]=l.split("|").map(Number);n.fillStyle=o[s],n.fillRect(i*t.factor,m*t.factor,t.factor,t.factor)})},g=()=>{t.startIndex=0,t.pathIndex=0,t.pathPosition=0,t.bgGradient=P("#2f3542","#57606f",10),t.fgGradient=V(k,10),p.paths.forEach((e,a)=>{t.keys.push(a);const r=[];e.forEach(o=>{const s=o.split("_").map(l=>{const[i,m]=l.split("|").map(Number);return{x:i,y:m}});s.pop(),r.push(s)}),t.paths.set(a,r)});const f=p.grid[0].length,c=p.grid.length;h=document.getElementById("partTwo"),h.width=f*t.factor+1,h.height=c*t.factor+1,n=h.getContext("2d"),n.translate(.5,.5),n.lineWidth=1,d(),window.requestAnimationFrame(()=>w())};return B(()=>{x(),g()}),(f,c)=>(M(),S(R,null,{default:_(()=>[$(G,{cols:"12",md:"6"},{default:_(()=>c[0]||(c[0]=[u("div",{class:"canvas-holder"},[u("canvas",{id:"partOne",class:"canvas",height:"500",width:"500"})],-1)])),_:1}),$(G,{cols:"12",md:"6"},{default:_(()=>c[1]||(c[1]=[u("div",{class:"canvas-holder"},[u("canvas",{id:"partTwo",class:"canvas",height:"500",width:"500"})],-1)])),_:1})]),_:1}))}}),D=z(A,[["__scopeId","data-v-74f156cc"]]),L=C({__name:"D10",props:{input:{}},emits:["onFinished"],setup(y,{emit:p}){const h=y,n=p,t=T(!1);let d;const w=[[-1,0],[1,0],[0,-1],[0,1]],x=new Map,g=new Map,f=(e,a,r)=>{var o,s;if(d[e.y][e.x]===9){(o=x.get(r))==null||o.add(`${e.x}|${e.y}`),(s=g.get(r))==null||s.add(a+=`${e.x}|${e.y}_`);return}w.forEach(l=>{const i={x:e.x+l[0],y:e.y+l[1]};i.x>=0&&i.x<d[0].length&&i.y>=0&&i.y<d.length&&d[i.y][i.x]-d[e.y][e.x]===1&&f(i,a+`${e.x}|${e.y}_`,r)})},c=()=>{if(h.input){d=h.input.map(o=>o.split("").map(Number));const e=[];d.forEach((o,s)=>o.forEach((l,i)=>l===0?e.push({x:i,y:s}):null));let a=0,r=0;e.forEach(o=>{var l,i;const s=`${o.x}|${o.y}`;x.set(s,new Set),g.set(s,new Set),f(o,"",s),a+=((l=x.get(s))==null?void 0:l.size)||0,r+=((i=g.get(s))==null?void 0:i.size)||0,console.log(g)}),n("onFinished",a,r),q(()=>{t.value=!0})}};return F(()=>h.input,()=>c(),{immediate:!0}),(e,a)=>v(t)?(M(),S(D,{key:0,grid:v(d),paths:v(g)},null,8,["grid","paths"])):O("",!0)}});export{L as default};

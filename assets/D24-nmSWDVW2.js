import{a4 as O,w as _,o as g,c as C}from"./index-Cxbr-XUk.js";const $=O({__name:"D24",props:{input:{}},emits:["onFinished"],setup(d,{emit:h}){const i=d,u=h,m=()=>{if(i.input){const s={},o=new Set,r=[],w=/(?<one>[a-z0-9]{3})\s(?<op>(AND|XOR|OR))\s(?<two>[a-z0-9]{3})\s->\s(?<res>[a-z0-9]{3})/;let c="Line	Parent",l=!1;i.input.forEach(t=>{var n;if(t.length<1)l=!0;else if(l){const e=(n=t.match(w))==null?void 0:n.groups;e&&(o.add(e.one),o.add(e.two),o.add(e.res),r.push({a:e.one,b:e.two,res:e.res,op:e.op}),c+=`
${e.res}	${e.one}`,c+=`
${e.res}	${e.two}`)}else{const[e,a]=t.split(": ").map((f,k)=>k===1?+f:f);o.add(e),s[e]=a}}),console.log(c),console.log(o,r);const b=[...o].filter(t=>t.startsWith("z")).length;for(;Object.keys(s).filter(t=>t.startsWith("z")).length!==b;)o.forEach(t=>{if(s[t]===void 0){const n=r.find(e=>e.res===t);if(n){const e=s[n.a],a=s[n.b];if(e!==void 0&&a!==void 0)switch(n.op){case"AND":s[t]=e&a;break;case"OR":s[t]=e|a;break;case"XOR":s[t]=e^a;break}}}});const p=[...o].filter(t=>t.startsWith("z"));p.sort((t,n)=>n.localeCompare(t));const z=parseInt(p.map(t=>s[t]).join(""),2);u("onFinished",z,null)}};return _(()=>i.input,()=>m(),{immediate:!0}),(s,o)=>(g(),C("span"))}});export{$ as default};

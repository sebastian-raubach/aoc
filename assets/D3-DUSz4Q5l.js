import{a4 as b,r as d,w as S,o as _,c as w,a as B,ab as g,a0 as m}from"./index-Cxbr-XUk.js";const R={class:"canvas-holder mb-5"},C=["height","width"],k=b({__name:"D3",props:{input:{}},emits:["onFinished"],setup(x,{emit:p}){const h=x,v=p,r=d(),f=d();let u;const c=[],s=[],E=()=>{if(h.input){u=h.input.map(t=>t.split("")),u.forEach((t,e)=>{const n=t.join("");let i=null;for(let a=0;a<t.length;a++)if(t[a]==="."){i!==null&&(c.push({xStart:i,xEnd:a-1,y:e,value:+n.substring(i,a)}),i=null);continue}else t[a]===`${+t[a]}`?i===null&&(i=a):(i!==null&&(c.push({xStart:i,xEnd:a-1,y:e,value:+n.substring(i,a)}),i=null),s.push({x:a,y:e,touching:[],symbol:t[a]}));i!==null&&(c.push({xStart:i,xEnd:n.length-1,y:e,value:+n.substring(i,n.length)}),i=null)});const o=c.map(t=>{let e=!1;return s.forEach(n=>{Math.abs(n.y-t.y)<=1&&n.x>=t.xStart-1&&n.x<=t.xEnd+1&&(e||(e=!0),n.touching.push(t))}),e?t.value:0}).reduce((t,e)=>t+e,0),l=s.map(t=>t.symbol==="*"&&t.touching.length===2?t.touching[0].value*t.touching[1].value:0).reduce((t,e)=>t+e,0);m(()=>y()),v("onFinished",o,l)}};S(()=>h.input,()=>E(),{immediate:!0});const y=()=>{const o=document.getElementById("partOne");if(o){const l=o.getContext("2d");if(l){l.lineWidth=1;const t=10;r.value=u[0].length*t,f.value=u.length*t,m(()=>{l.fillStyle="#2c3e50",l.fillRect(0,0,r.value,f.value),c.forEach(e=>{l.fillStyle="#006266",l.fillRect(e.xStart*t,e.y*t,t*(e.xEnd-e.xStart+1),t)}),s.forEach(e=>{e.symbol==="*"&&e.touching.length===2?(l.fillStyle="#FFC312",l.fillRect(e.x*t,e.y*t,t,t),l.fillStyle="#A3CB38",e.touching.forEach(n=>{l.fillRect(n.xStart*t,n.y*t,t*(n.xEnd-n.xStart+1),t)})):(l.fillStyle="#EE5A24",l.fillRect(e.x*t,e.y*t,t,t))})})}}};return(o,l)=>(_(),w("div",R,[B("canvas",{id:"partOne",class:"canvas",height:g(f),width:g(r)},null,8,C)]))}});export{k as default};

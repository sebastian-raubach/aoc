import{a as T,V as H}from"./VCard-DEvdSd5U.js";import{a4 as N,r as Z,w as b,o as C,c as O,a as u,ac as d,e as f,a7 as h,ab as w,V as E}from"./index-Bi_srQVd.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VDivider-CJzSv6Y4.js";const y=(n,r)=>r===0?n:y(r,n%r),j=(n,r)=>n/y(n,r)*r,B=n=>n.reduce(j,1),I=n=>B(n),P={class:"year-2023-day-8-code border"},D=["innerHTML"],W={class:"year-2023-day-8-code border"},z=["innerHTML"],R=N({__name:"D8",props:{input:{}},emits:["onFinished"],setup(n,{emit:r}){const p=n,V=r,g=Z(),_=Z(),A=(i,t,e,m)=>{let s=i,l=0;const c={};for(;!m.includes(s);)c[s]=(c[s]||0)+1,s=e[s][t[l%t.length]],l++;return c[s]=(c[s]||0)+1,{visitCounts:c,counter:l}},v=i=>{let t=`#heliumInput = PHENOTYPE
LineName	VisitCount	NodeType
`;return Object.keys(i).forEach(e=>{t+=`${e}	${i[e]}	${e==="AAA"?"start":e==="ZZZ"?"end":""}
`}),t},x=()=>{var i;if(p.input){const t=p.input[0].split("").map(o=>o==="L"?0:1),e={};let m=`Line	Parent
`;const s=/(?<from>[A-Z]+) = \((?<left>[A-Z]+), (?<right>[A-Z]+)\)/;for(let o=2;o<p.input.length;o++){const a=(i=p.input[o].match(s))==null?void 0:i.groups;a&&(e[a.from]=[a.left,a.right],m+=`${a.left}	${a.from}
`,m+=`${a.right}	${a.from}
`)}g.value=m;const l=A("AAA",t,e,["ZZZ"]),c=l.counter;_.value=v(l.visitCounts);const L=Object.keys(e).filter(o=>o.endsWith("A")),$=Object.keys(e).filter(o=>o.endsWith("Z")),k=L.map(o=>A(o,t,e,$).counter),F=I(k);V("onFinished",c,F)}};return b(()=>p.input,()=>x(),{immediate:!0}),(i,t)=>(C(),O(E,null,[t[4]||(t[4]=u("p",{class:"text-info"},[d("The output below can be saved as a text file each and loaded into "),u("a",{href:"https://helium.hutton.ac.uk"},"Helium"),d(" to visualize the graph structure as well as the importance of each node.")],-1)),f(H,null,{default:h(()=>[f(T,{cols:"21",md:"6"},{default:h(()=>[u("pre",P,[t[0]||(t[0]=d("")),u("code",{innerHTML:w(g)},null,8,D),t[1]||(t[1]=d(`
      `))])]),_:1}),f(T,{cols:"21",md:"6"},{default:h(()=>[u("pre",W,[t[2]||(t[2]=d("")),u("code",{innerHTML:w(_)},null,8,z),t[3]||(t[3]=d(`
      `))])]),_:1})]),_:1})],64))}}),K=M(R,[["__scopeId","data-v-de8180cc"]]);export{K as default};

import{l as k}from"./math-BfW4n0ha.js";import{a as _,V as F}from"./VCard-C3Cjuzwx.js";import{a4 as H,r as A,w as N,o as C,c as O,a as l,ac as c,e as d,a7 as m,ab as T,V as E}from"./index-D6yzMWWV.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VDivider--gaYyFUZ.js";const j={class:"year-2023-day-8-code border"},B=["innerHTML"],P={class:"year-2023-day-8-code border"},D=["innerHTML"],I=H({__name:"D8",props:{input:{}},emits:["onFinished"],setup(Z,{emit:b}){const u=Z,w=b,f=A(),h=A(),g=(s,t,e,p)=>{let o=s,i=0;const a={};for(;!p.includes(o);)a[o]=(a[o]||0)+1,o=e[o][t[i%t.length]],i++;return a[o]=(a[o]||0)+1,{visitCounts:a,counter:i}},y=s=>{let t=`#heliumInput = PHENOTYPE
LineName	VisitCount	NodeType
`;return Object.keys(s).forEach(e=>{t+=`${e}	${s[e]}	${e==="AAA"?"start":e==="ZZZ"?"end":""}
`}),t},V=()=>{var s;if(u.input){const t=u.input[0].split("").map(n=>n==="L"?0:1),e={};let p=`Line	Parent
`;const o=/(?<from>[A-Z]+) = \((?<left>[A-Z]+), (?<right>[A-Z]+)\)/;for(let n=2;n<u.input.length;n++){const r=(s=u.input[n].match(o))==null?void 0:s.groups;r&&(e[r.from]=[r.left,r.right],p+=`${r.left}	${r.from}
`,p+=`${r.right}	${r.from}
`)}f.value=p;const i=g("AAA",t,e,["ZZZ"]),a=i.counter;h.value=y(i.visitCounts);const v=Object.keys(e).filter(n=>n.endsWith("A")),x=Object.keys(e).filter(n=>n.endsWith("Z")),L=v.map(n=>g(n,t,e,x).counter),$=k(L);w("onFinished",a,$)}};return N(()=>u.input,()=>V(),{immediate:!0}),(s,t)=>(C(),O(E,null,[t[4]||(t[4]=l("p",{class:"text-info"},[c("The output below can be saved as a text file each and loaded into "),l("a",{href:"https://helium.hutton.ac.uk"},"Helium"),c(" to visualize the graph structure as well as the importance of each node.")],-1)),d(F,null,{default:m(()=>[d(_,{cols:"21",md:"6"},{default:m(()=>[l("pre",j,[t[0]||(t[0]=c("")),l("code",{innerHTML:T(f)},null,8,B),t[1]||(t[1]=c(`
      `))])]),_:1}),d(_,{cols:"21",md:"6"},{default:m(()=>[l("pre",P,[t[2]||(t[2]=c("")),l("code",{innerHTML:T(h)},null,8,D),t[3]||(t[3]=c(`
      `))])]),_:1})]),_:1})],64))}}),G=M(I,[["__scopeId","data-v-de8180cc"]]);export{G as default};

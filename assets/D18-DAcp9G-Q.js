import{c as R,V as k}from"./color-Cgs3GWPp.js";import{a as E,V as B}from"./VCard-CxUxd5XD.js";import{a4 as N,v as I,o as V,a6 as q,a7 as _,e as C,a as g,w as F,ab as T}from"./index-CPLsJCN8.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as P}from"./index-CrTQY8dy.js";import"./VDivider-D3PtUj6H.js";const W=N({__name:"V18",props:{width:{},height:{},path:{},walls:{},pTwo:{}},setup(v){const r=v;let w;const x=t=>{var n;const a=Math.max(1,Math.floor((((n=document.getElementById("holder"+t))==null?void 0:n.offsetWidth)||1)/r.width)),s=document.getElementById("part"+t),c=s.getContext("2d");return s.width=r.width*a+1,s.height=r.height*a+1,c.translate(.5,.5),c.lineWidth=.5,c.fillStyle="#2f3542",c.strokeStyle="#57606f",c.fillRect(0,0,s.width,s.height),c.strokeRect(0,0,s.width-1,s.height-1),{canvas:s,ctx:c,factor:a,index:0}},m=()=>{const t=x("One");t.ctx.fillStyle="#57606f",r.walls.forEach(s=>{const[c,n]=s.split("|").map(Number);t.ctx.fillRect(c*t.factor,n*t.factor,t.factor,t.factor)}),t.canvas.width=r.width*t.factor+1,t.canvas.height=r.height*t.factor+1,t.ctx.translate(.5,.5),t.ctx.lineWidth=.5,t.ctx.fillStyle="#2f3542",t.ctx.strokeStyle="#57606f",t.ctx.fillRect(0,0,t.canvas.width,t.canvas.height),t.ctx.strokeRect(0,0,t.canvas.width-1,t.canvas.height-1),t.ctx.fillStyle="#57606f",r.walls.forEach(s=>{const[c,n]=s.split("|").map(Number);t.ctx.fillRect(c*t.factor,n*t.factor,t.factor,t.factor)});const a=R(k,r.path.length+1);r.path.forEach((s,c)=>{t.ctx.fillStyle=a[c];const[n,d]=s.split("|").map(Number);t.ctx.fillRect(n*t.factor,d*t.factor,t.factor,t.factor)})},u=()=>{const t=w;if(t.index<r.pTwo.length){const a=r.pTwo[t.index++];if(a.pathChanged){const s=R(k,a.path.length+1);a.lastOne&&console.log(a),t.ctx.fillStyle="#2f3542",t.ctx.strokeStyle="#57606f",t.ctx.fillRect(0,0,t.canvas.width,t.canvas.height),t.ctx.strokeRect(0,0,t.canvas.width-1,t.canvas.height-1),(a.lastOne?a.path.slice(0,a.path.indexOf(a.walls[a.walls.length-1])):a.path).forEach((n,d)=>{t.ctx.fillStyle=s[d];const[i,p]=n.split("|").map(Number);t.ctx.fillRect(i*t.factor,p*t.factor,t.factor,t.factor)}),a.walls.forEach((n,d)=>{t.ctx.fillStyle=d===a.walls.length-1?"white":"#57606f";const[i,p]=n.split("|").map(Number);t.ctx.fillRect(i*t.factor,p*t.factor,t.factor,t.factor)})}else{t.ctx.fillStyle="#57606f";const s=a.walls[a.walls.length-1],[c,n]=s.split("|").map(Number);t.ctx.fillRect(c*t.factor,n*t.factor,t.factor,t.factor)}window.requestAnimationFrame(u)}},f=()=>{w=x("Two"),window.requestAnimationFrame(u)};return I(()=>{m(),f()}),(t,a)=>(V(),q(B,null,{default:_(()=>[C(E,{cols:"12",md:"6"},{default:_(()=>a[0]||(a[0]=[g("div",{id:"holderOne",class:"canvas-holder"},[g("canvas",{id:"partOne",class:"canvas",height:"500",width:"500"})],-1)])),_:1}),C(E,{cols:"12",md:"6"},{default:_(()=>a[1]||(a[1]=[g("div",{id:"holderTwo",class:"canvas-holder"},[g("canvas",{id:"partTwo",class:"canvas",height:"500",width:"500"})],-1)])),_:1})]),_:1}))}}),A=M(W,[["__scopeId","data-v-de8f2aed"]]),$=71,O=71,b=1024,J=N({__name:"D18",props:{input:{}},emits:["onFinished"],setup(v,{emit:r}){const w=v,x=r;let m,u;const f=[],t=[[1,0],[0,1],[-1,0],[0,-1]],a=new Set,s={x:0,y:0},c={x:$-1,y:O-1},n=()=>{const i=new Set,p=(h,e)=>h.distance-e.distance,o=new P.PriorityQueue(p);for(o.enqueue({position:s,path:["0|0"],distance:0}),i.add("0|0");o.size()>0;){const h=o.dequeue();if(h){if(h.position.x===c.x&&h.position.y===c.y)return h;t.map(e=>({x:h.position.x+e[0],y:h.position.y+e[1]})).filter(e=>e.x>=0&&e.x<$&&e.y>=0&&e.y<O&&!i.has(`${e.x}|${e.y}`)&&!a.has(`${e.x}|${e.y}`)).forEach(e=>{const l=h.path.concat();l.push(`${e.x}|${e.y}`),o.enqueue({position:e,path:l,distance:h.distance+1}),i.add(`${e.x}|${e.y}`)})}}},d=()=>{if(w.input){const i=w.input.map(l=>{const[y,S]=l.split(",").map(Number);return{x:y,y:S}});i.slice(0,b).forEach(l=>a.add(`${l.x}|${l.y}`));let p,o=n();o&&(p=o.distance,m=o.path.concat(),u=[...a],f.push({pathChanged:!0,lastOne:!1,path:o.path.concat(),walls:[...a]}));let h,e=new Set;o==null||o.path.forEach(l=>e.add(l));for(let l=b;l<i.length;l++){const y=`${i[l].x}|${i[l].y}`;if(a.add(y),e.has(y))if(o=n(),o)f.push({pathChanged:!0,lastOne:!1,path:o.path.concat(),walls:[...a]}),e=new Set,o.path.forEach(S=>e.add(S));else{f.push({pathChanged:!0,lastOne:!0,path:f[f.length-1].path.concat(),walls:[...a]}),h=`${i[l].x},${i[l].y}`;break}else o&&f.push({pathChanged:!1,lastOne:!1,path:o.path.concat(),walls:[...a]})}x("onFinished",p,h)}};return F(()=>w.input,()=>d(),{immediate:!0}),(i,p)=>(V(),q(A,{height:O,"p-two":f,path:T(m),walls:T(u),width:$},null,8,["path","walls"]))}});export{J as default};

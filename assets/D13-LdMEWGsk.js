import{t as h}from"./math-BfW4n0ha.js";import{a4 as F,w as M,o as d,c as D}from"./index-DSKmmGgX.js";const T=F({__name:"D13",props:{input:{}},emits:["onFinished"],setup(b,{emit:v}){const l=b,y=v,B=(o,e)=>{let s=!0,a=0;for(;!(!o[e-a-1]||!o[e+a]);){if(o[e-a-1]!==o[e+a]){s=!1;break}a++}return s},p=(o,e=void 0)=>{for(let s=1;s<o.length;s++)if(o[s-1]===o[s]&&s!==e&&B(o,s))return s;return 0},C=()=>{if(l.input){const o=[];let e=[];l.input.forEach(t=>{t===""?(o.push({rows:e,cols:h(e.map(r=>r.split(""))).map(r=>r.join(""))}),e=[]):e.push(t)}),o.push({rows:e,cols:h(e.map(t=>t.split(""))).map(t=>t.join(""))});const s=[],a=o.map(t=>{const r=p(t.rows),n=p(t.cols);return s.push({row:r,col:n}),n+r*100}).reduce((t,r)=>t+r,0),E=o.map((t,r)=>{const n=t.rows.map(c=>c.split("")),m=h(n);let w=0,_=0;o:for(let c=0;c<n.length;c++)for(let i=0;i<n[c].length;i++){const u=n[c][i];n[c][i]=u==="."?"#":".",m[i][c]=n[c][i];const k=p(n.map(f=>f.join("")),s[r].row),j=p(m.map(f=>f.join("")),s[r].col);if(k!==0||j!==0){_=k,w=j;break o}n[c][i]=u,m[i][c]=u}return w+_*100}).reduce((t,r)=>t+r,0);y("onFinished",a,E)}};return M(()=>l.input,()=>C(),{immediate:!0}),(o,e)=>(d(),D("span"))}});export{T as default};

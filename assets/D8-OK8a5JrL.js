import{b as v}from"./math-B-OodKrg.js";import{p as y}from"./index-CrTQY8dy.js";import{a4 as q,w as z,o as b,c as g}from"./index-Cxbr-XUk.js";const Q=q({__name:"D8",props:{input:{}},emits:["onFinished"],setup(h,{emit:w}){const c=h,x=w,_=()=>{if(c.input){const u=(e,t)=>e.distance-t.distance,i=new y.PriorityQueue(u);let m=0,f=0;const s=c.input.map((e,t)=>{const[n,o,p]=e.split(",").map(Number);return{x:n,y:o,z:p}});let r=s.map(()=>{});for(let e=0;e<s.length;e++)for(let t=e+1;t<s.length;t++){const n=s[e],o=s[t],p=v([n.x,n.y,n.z],[o.x,o.y,o.z],2);i.enqueue({from:e,to:t,distance:p})}let k=0;const l=e=>{const t=r[e.from],n=r[e.to];if(t===void 0||n===void 0){const o=t||n||++k;r[e.from]=o,r[e.to]=o}else t!==n&&(r=r.map(o=>o===n?t:o))};let d=0;for(;d<1e3;){const e=i.dequeue();l(e),d++}const a=new Map;for(r.forEach(e=>{e!==void 0&&a.set(e,(a.get(e)||0)+1)}),m=[...a.values()].sort((e,t)=>t-e).slice(0,3).reduce((e,t)=>e*t,1);;){const e=i.dequeue();if(l(e),new Set(r).size===1){f=s[e.from].x*s[e.to].x;break}}x("onFinished",m,f)}};return z(()=>c.input,()=>_(),{immediate:!0}),(u,i)=>(b(),g("span"))}});export{Q as default};

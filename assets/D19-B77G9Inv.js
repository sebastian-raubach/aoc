import{a4 as M,w as F,o as H,c as k}from"./index-B18PseM7.js";var q={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},w=Array.prototype.slice;function v(t){var e=t.length;return e?e===1?[t[0]]:e===2?[t[0],t[1]]:e===3?[t[0],t[1],t[2]]:w.call(t,0):[]}function P(t){var e={};for(var n in t)q[n]||(e[n]=t[n]);return e}function b(t){return typeof t=="function"&&t.isMemoized}function B(t,e){return t===e||t!==t&&e!==e}function A(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}var V=function(){function t(e){this.keys=[],this.values=[],this.options=e;var n=typeof e.isMatchingKey=="function";n?this.getKeyIndex=this._getKeyIndexFromMatchingKey:e.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey=typeof e.transformKey=="function",this.shouldCloneArguments=this.canTransformKey||n,this.shouldUpdateOnAdd=typeof e.onCacheAdd=="function",this.shouldUpdateOnChange=typeof e.onCacheChange=="function",this.shouldUpdateOnHit=typeof e.onCacheHit=="function"}return Object.defineProperty(t.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return{keys:v(this.keys),size:this.size,values:v(this.values)}},enumerable:!1,configurable:!0}),t.prototype._getKeyIndexFromMatchingKey=function(e){var n=this.options,i=n.isMatchingKey,r=n.maxSize,a=this.keys,s=a.length;if(!s)return-1;if(i(a[0],e))return 0;if(r>1){for(var o=1;o<s;o++)if(i(a[o],e))return o}return-1},t.prototype._getKeyIndexForMany=function(e){var n=this.options.isEqual,i=this.keys,r=i.length;if(!r)return-1;if(r===1)return this._getKeyIndexForSingle(e);var a=e.length,s,o;if(a>1){for(var u=0;u<r;u++)if(s=i[u],s.length===a){for(o=0;o<a&&n(s[o],e[o]);o++);if(o===a)return u}}else for(var u=0;u<r;u++)if(s=i[u],s.length===a&&n(s[0],e[0]))return u;return-1},t.prototype._getKeyIndexForSingle=function(e){var n=this.keys;if(!n.length)return-1;var i=n[0],r=i.length;if(e.length!==r)return-1;var a=this.options.isEqual;if(r>1){for(var s=0;s<r;s++)if(!a(i[s],e[s]))return-1;return 0}return a(i[0],e[0])?0:-1},t.prototype.orderByLru=function(e,n,i){for(var r=this.keys,a=this.values,s=r.length,o=i;o--;)r[o+1]=r[o],a[o+1]=a[o];r[0]=e,a[0]=n;var u=this.options.maxSize;s===u&&i===s?(r.pop(),a.pop()):i>=u&&(r.length=a.length=u)},t.prototype.updateAsyncCache=function(e){var n=this,i=this.options,r=i.onCacheChange,a=i.onCacheHit,s=this.keys[0],o=this.values[0];this.values[0]=o.then(function(u){return n.shouldUpdateOnHit&&a(n,n.options,e),n.shouldUpdateOnChange&&r(n,n.options,e),u},function(u){var d=n.getKeyIndex(s);throw d!==-1&&(n.keys.splice(d,1),n.values.splice(d,1)),u})},t}();function K(t,e){if(e===void 0&&(e={}),b(t))return K(t.fn,A(t.options,e));if(typeof t!="function")throw new TypeError("You must pass a function to `memoize`.");var n=e.isEqual,i=n===void 0?B:n,r=e.isMatchingKey,a=e.isPromise,s=a===void 0?!1:a,o=e.maxSize,u=o===void 0?1:o,d=e.onCacheAdd,f=e.onCacheChange,l=e.onCacheHit,g=e.transformKey,c=A({isEqual:i,isMatchingKey:r,isPromise:s,maxSize:u,onCacheAdd:d,onCacheChange:f,onCacheHit:l,transformKey:g},P(e)),h=new V(c),C=h.keys,_=h.values,O=h.canTransformKey,x=h.shouldCloneArguments,S=h.shouldUpdateOnAdd,z=h.shouldUpdateOnChange,E=h.shouldUpdateOnHit,y=function(){var p=x?v(arguments):arguments;O&&(p=g(p));var m=C.length?h.getKeyIndex(p):-1;if(m!==-1)E&&l(h,c,y),m&&(h.orderByLru(C[m],_[m],m),z&&f(h,c,y));else{var I=t.apply(this,arguments),U=x?p:v(arguments);h.orderByLru(U,I,C.length),s&&h.updateAsyncCache(y),S&&d(h,c,y),z&&f(h,c,y)}return _[0]};return y.cache=h,y.fn=t,y.isMemoized=!0,y.options=c,y}const N=M({__name:"D19",props:{input:{}},emits:["onFinished"],setup(t,{emit:e}){const n=t,i=e;let r=[],a,s;const o=f=>{if(f==="")return!0;for(let l=0;l<r.length;l++)if(f.startsWith(r[l])){const g=f.slice(r[l].length);if(a(g))return!0}return!1},u=f=>{if(f==="")return 1;let l=0;for(let g=0;g<r.length;g++)if(f.startsWith(r[g])){const c=f.slice(r[g].length),h=s(c);l+=h}return l};a=K(o,{maxSize:Number.MAX_VALUE}),s=K(u,{maxSize:Number.MAX_VALUE});const d=()=>{if(n.input){r=n.input[0].split(", ");const f=n.input.slice(2);let l=0,g=0;f.filter(c=>a(c)).forEach(c=>{l++,g+=s(c)}),i("onFinished",l,g)}};return F(()=>n.input,()=>d(),{immediate:!0}),(f,l)=>(H(),k("span"))}});export{N as default};

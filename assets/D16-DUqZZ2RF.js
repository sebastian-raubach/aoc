import{c as _,V as S}from"./color-Cgs3GWPp.js";import{a4 as M,v as E,o as P,c as F,a as V,r as g,w as B,ab as u,a6 as C,ah as O}from"./index-CQVoPyxr.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"canvas-holder"},D=M({__name:"V16",props:{grid:{},path:{},width:{},height:{}},setup(b){const p=b,t={gradient:[],factor:7,pathIndex:0};let d,a;const l=()=>{const s=p.path[t.pathIndex],o=t.gradient[t.pathIndex];a.strokeStyle=o,a.fillStyle=o,s.forEach(r=>{let f=p.grid[`${r.pos.x}|${r.pos.y}`];f==="."&&(r.delta.x!==0?f="-":f="|"),f==="-"&&(r.delta.y>0?f="┴":r.delta.y<0&&(f="T")),f==="|"&&(r.delta.x>0?f="┤":r.delta.x<0&&(f="├")),f==="/"&&(r.delta.x>0||r.delta.y>0?f="J":f="F"),f==="\\"&&(r.delta.x>0||r.delta.y<0?f="7":f="L"),m(r.pos.x,r.pos.y,f)}),t.pathIndex<p.path.length-1&&(t.pathIndex++,window.requestAnimationFrame(()=>l()))},m=(s,o,r)=>{switch(r){case"├":a.beginPath(),a.moveTo(s*t.factor+t.factor/2,o*t.factor),a.lineTo(s*t.factor+t.factor/2,(o+1)*t.factor),a.moveTo(s*t.factor+t.factor/2,(o+.5)*t.factor),a.lineTo((s+1)*t.factor,(o+.5)*t.factor),a.stroke();break;case"┤":a.beginPath(),a.moveTo(s*t.factor+t.factor/2,o*t.factor),a.lineTo(s*t.factor+t.factor/2,(o+1)*t.factor),a.moveTo(s*t.factor+t.factor/2,(o+.5)*t.factor),a.lineTo(s*t.factor,(o+.5)*t.factor),a.stroke();break;case"T":a.beginPath(),a.moveTo(s*t.factor,o*t.factor+t.factor/2),a.lineTo((s+1)*t.factor,o*t.factor+t.factor/2),a.moveTo((s+.5)*t.factor,o*t.factor+t.factor/2),a.lineTo((s+.5)*t.factor,(o+1)*t.factor),a.stroke();break;case"┴":a.beginPath(),a.moveTo(s*t.factor,o*t.factor+t.factor/2),a.lineTo((s+1)*t.factor,o*t.factor+t.factor/2),a.moveTo((s+.5)*t.factor,o*t.factor+t.factor/2),a.lineTo((s+.5)*t.factor,o*t.factor),a.stroke();break;case"F":a.beginPath(),a.arc((s+1)*t.factor,(o+1)*t.factor,t.factor/2,Math.PI,1.5*Math.PI),a.stroke();break;case"J":a.beginPath(),a.arc(s*t.factor,o*t.factor,t.factor/2,0,.5*Math.PI),a.stroke();break;case"7":a.beginPath(),a.arc(s*t.factor,(o+1)*t.factor,t.factor/2,1.5*Math.PI,0),a.stroke();break;case"L":a.beginPath(),a.arc((s+1)*t.factor,o*t.factor,t.factor/2,.5*Math.PI,Math.PI),a.stroke();break;case"/":a.beginPath(),a.moveTo(s*t.factor+t.factor/8,(o+1)*t.factor-t.factor/8),a.lineTo((s+1)*t.factor-t.factor/8,o*t.factor+t.factor/8),a.stroke();break;case"\\":a.beginPath(),a.moveTo(s*t.factor+t.factor/8,o*t.factor+t.factor/8),a.lineTo((s+1)*t.factor-t.factor/8,(o+1)*t.factor-t.factor/8),a.stroke();break;case"|":a.beginPath(),a.moveTo(s*t.factor+t.factor/2,o*t.factor),a.lineTo(s*t.factor+t.factor/2,(o+1)*t.factor),a.stroke();break;case"-":a.beginPath(),a.moveTo(s*t.factor,o*t.factor+t.factor/2),a.lineTo((s+1)*t.factor,o*t.factor+t.factor/2),a.stroke();break}},k=()=>{t.gradient=_(S,Math.ceil(p.path.length/2)),d=document.getElementById("partOne"),a=d.getContext("2d"),t.factor=9,d.width=p.width*t.factor,d.height=p.height*t.factor,a.fillStyle="#222222",a.fillRect(0,0,d.width,d.height),a.lineWidth=t.factor/4;for(let s=0;s<p.height;s++)for(let o=0;o<p.width;o++){const r=p.grid[`${o}|${s}`];a.strokeStyle="#34495e",a.fillStyle="#34495e",m(o,s,r)}t.pathIndex=0,window.requestAnimationFrame(()=>l())};return E(()=>k()),(s,o)=>(P(),F("div",A,o[0]||(o[0]=[V("canvas",{id:"partOne",class:"canvas",height:"1000",width:"1000"},null,-1)])))}}),J=z(D,[["__scopeId","data-v-96511890"]]),G=M({__name:"D16",props:{input:{}},emits:["onFinished"],setup(b,{emit:p}){const t=b,d=p,a=g(0),l=g(0),m=g({}),k=g([]),s=g(!1),o={".":e=>[{pos:{x:e.pos.x+e.delta.x,y:e.pos.y+e.delta.y},delta:e.delta}],"/":e=>{const i={x:-e.delta.y,y:-e.delta.x};return[{pos:{x:e.pos.x+i.x,y:e.pos.y+i.y},delta:i}]},"\\":e=>{const i={x:e.delta.y,y:e.delta.x};return[{pos:{x:e.pos.x+i.x,y:e.pos.y+i.y},delta:i}]},"-":e=>e.delta.x!==0?[{pos:{x:e.pos.x+e.delta.x,y:e.pos.y+e.delta.y},delta:e.delta}]:[{pos:{x:e.pos.x-1,y:e.pos.y},delta:{x:-1,y:0}},{pos:{x:e.pos.x+1,y:e.pos.y},delta:{x:1,y:0}}],"|":e=>e.delta.y!==0?[{pos:{x:e.pos.x+e.delta.x,y:e.pos.y+e.delta.y},delta:e.delta}]:[{pos:{x:e.pos.x,y:e.pos.y-1},delta:{x:0,y:-1}},{pos:{x:e.pos.x,y:e.pos.y+1},delta:{x:0,y:1}}]},r=(e,i,c=!1)=>{let y=[{pos:e,delta:i}];const n=new Set,T=new Set,v=[];for(;y.length>0;){c&&v.push(y.concat());const w=[];y.forEach(h=>{const $=m.value[`${h.pos.x}|${h.pos.y}`];n.add(`${h.pos.x}|${h.pos.y}|${h.delta.x}|${h.delta.y}`),T.add(`${h.pos.x}|${h.pos.y}`);const I=o[$](h).filter(x=>x.pos.x>=0&&x.pos.x<l.value&&x.pos.y>=0&&x.pos.y<a.value&&!n.has(`${x.pos.x}|${x.pos.y}|${x.delta.x}|${x.delta.y}`));w.push(...I)}),y=w}return c&&(k.value=v),T.size},f=()=>{if(t.input){const e={};a.value=t.input.length,l.value=0,t.input.forEach((n,T)=>{const v=n.split("");l.value||(l.value=v.length),v.forEach((w,h)=>{e[`${h}|${T}`]=w})}),m.value=e;const i=r({x:0,y:0},{x:1,y:0},!0);let c=0;for(let n=1;n<l.value-1;n++)c=Math.max(c,r({x:n,y:0},{x:0,y:1})),c=Math.max(c,r({x:n,y:a.value-1},{x:0,y:-1}));for(let n=1;n<a.value-1;n++)c=Math.max(c,r({x:0,y:n},{x:1,y:0})),c=Math.max(c,r({x:0,y:l.value-1},{x:-1,y:0}));c=Math.max(c,r({x:0,y:0},{x:0,y:1})),c=Math.max(c,r({x:0,y:0},{x:1,y:0})),c=Math.max(c,r({x:l.value-1,y:0},{x:0,y:1})),c=Math.max(c,r({x:l.value-1,y:0},{x:-1,y:0})),c=Math.max(c,r({x:0,y:a.value-1},{x:0,y:-1})),c=Math.max(c,r({x:0,y:a.value-1},{x:1,y:0})),c=Math.max(c,r({x:l.value-1,y:a.value-1},{x:0,y:-1})),c=Math.max(c,r({x:l.value-1,y:a.value-1},{x:-1,y:0})),d("onFinished",i,c),s.value=!0}};return B(()=>t.input,()=>f(),{immediate:!0}),(e,i)=>u(s)?(P(),C(J,{key:0,grid:u(m),height:u(a),path:u(k),width:u(l)},null,8,["grid","height","path","width"])):O("",!0)}});export{G as default};

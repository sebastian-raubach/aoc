import{a as $,c as b,V as I}from"./color-Cgs3GWPp.js";import{a as g}from"./math-BfW4n0ha.js";import{a4 as y,v as M,o as S,c as E,a as G,r as P,w as N,ab as v,a6 as V,b1 as z,f as B,ah as C}from"./index-CQeccUiL.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as R}from"./micro-memoize.esm-CVyQGfTa.js";const k={class:"canvas-holder"},A=y({__name:"V7",props:{splitters:{},visitedSplitters:{},height:{},width:{},start:{},visited:{}},setup(x){const r=x;let s,n;const t={bgGradient:[],fgGradient:[],factor:8,pathIndex:0};let p;const _=()=>{t.pathIndex=0,t.bgGradient=$("#57606f","#2f3542",Math.ceil(g({x:0,y:0},{x:Math.ceil(r.width/2),y:Math.ceil(r.height/2)}))+1),t.fgGradient=b(I,r.height),s=document.getElementById("partOne"),s.width=r.width*t.factor,s.height=r.height*t.factor,n=s.getContext("2d"),n.translate(.5,.5),n.lineWidth=1,n.fillStyle="#222222",n.fillRect(0,0,s.width,s.height);for(let i=0;i<r.height;i++)for(let e=0;e<r.width;e++){const a=g({x:e,y:i},{x:Math.ceil(r.width/2),y:Math.ceil(r.height/2)});n.fillStyle=t.bgGradient[a],n.fillRect(e*t.factor,i*t.factor,t.factor,t.factor)}n.fillStyle="#a4b0be",r.splitters.forEach(i=>{const[e,a]=i.split("|").map(Number);n.fillRect(e*t.factor,a*t.factor,t.factor,t.factor)}),n.fillStyle="#f1c40f",r.visitedSplitters.forEach(i=>{const[e,a]=i.split("|").map(Number);n.fillRect(e*t.factor,a*t.factor,t.factor,t.factor)}),p=[...r.visited].map(i=>{const[e,a]=i.split("|").map(Number);return{x:e,y:a}}).sort((i,e)=>i.y-e.y||i.x-e.x),window.requestAnimationFrame(()=>w())};function w(){const i=t.pathIndex,e=p.filter(a=>a.y===t.pathIndex);n.fillStyle=t.fgGradient[i],e.forEach(a=>{n.beginPath(),n.arc(a.x*t.factor+t.factor/2,a.y*t.factor+t.factor/2,t.factor/4,0,2*Math.PI),n.fill()}),i<r.height&&(t.pathIndex++,window.requestAnimationFrame(()=>w()))}return M(()=>_()),(i,e)=>(S(),E("div",k,e[0]||(e[0]=[G("canvas",{id:"partOne",class:"canvas",height:"1040",width:"1040"},null,-1)])))}}),O=F(A,[["__scopeId","data-v-545ccd90"]]),U=y({__name:"D7",props:{input:{}},emits:["onFinished"],setup(x,{emit:r}){const s=x,n=r;let t;const p=P(),_=()=>{if(s.input){let e=0,a=0;const o={x:0,y:0},c=new Set,h=s.input.length;s.input.forEach((m,f)=>{m.split("").forEach((u,d)=>{u==="S"?(o.x=d,o.y=f):u==="^"&&c.add(`${d}|${f}`)})});const l=w(o,c,h);e=l.splittersHit.size,t=R(i,{maxSize:Number.MAX_VALUE}),a=t(o.x,o.y+1,c,h),n("onFinished",e,a),p.value={height:h,width:s.input[0].length,splitters:c,visitedSplitters:l.splittersHit,start:o,visited:l.total}}};function w(e,a,o){const c=new Set,h=new Set;let l=new Set;for(l.add(`${e.x}|${e.y+1}`);l.size>0;){const m=new Set;l.forEach(f=>{c.add(f);const[u,d]=f.split("|").map(Number);a.has(f)?(h.add(f),m.add(`${u-1}|${d}`),m.add(`${u+1}|${d}`)):d<o&&m.add(`${u}|${d+1}`)}),l=m}return{splittersHit:h,total:c}}function i(e,a,o,c){return a===c?1:o.has(`${e}|${a+1}`)?t(e-1,a+1,o,c)+t(e+1,a+1,o,c):t(e,a+1,o,c)}return N(()=>s.input,()=>_(),{immediate:!0}),(e,a)=>{const o=O;return v(p)?(S(),V(o,z(B({key:0},v(p))),null,16)):C("",!0)}}});export{U as default};

import{e as m}from"./math-BfW4n0ha.js";import{a4 as w,w as _,o as d,c as k}from"./index-AEpBT1OT.js";const C=w({__name:"D7",props:{input:{}},emits:["onFinished"],setup(h,{emit:f}){const c=h,v=f,p=(s,a)=>{for(let l=0;l<a.length;l++){let n=s.values[0];for(let t=0;t<a[l].length;t++)switch(a[l][t]){case 0:n*=s.values[t+1];break;case 1:n+=s.values[t+1];break;case 2:n=+`${n}${s.values[t+1]}`;break}if(n===s.result)return!0}return!1},g=()=>{if(c.input){const s=c.input.map(e=>{const[r,o]=e.split(": ").map((u,i)=>i===0?+u:u.split(" ").map(Number));return{result:r,values:o}}),a=new Map,l=new Map;let n=0,t=0;s.forEach(e=>{const r=a.get(e.values.length-1)||m(e.values.length-1,2);if(a.set(e.values.length-1,r),p(e,r))n+=e.result,t+=e.result;else{const o=l.get(e.values.length-1)||m(e.values.length-1,3).filter(u=>u.some(i=>i===2));l.set(e.values.length-1,o),p(e,o)&&(t+=e.result)}}),v("onFinished",n,t)}};return _(()=>c.input,()=>g(),{immediate:!0}),(s,a)=>(d(),k("span"))}});export{C as default};

import{a4 as x,w as y,o as O,c as C}from"./index-Bvu1dcoy.js";const k=x({__name:"D14",props:{input:{}},emits:["onFinished"],setup(d,{emit:g}){const m=d,_=g,f=t=>t.map(n=>n.join("").split("#").map(p=>p.split("").sort((r,i)=>i.localeCompare(r)).join("")).join("#").split("")),u=t=>{const n=[];return t.forEach((a,p)=>{a.forEach((r,i,s)=>{n[s.length-i-1]=n[s.length-i-1]||[],n[s.length-i-1][p]=r})}),n},h=t=>{const n=[];return t.forEach((a,p,r)=>{a.forEach((i,s)=>{n[s]=n[s]||[],n[s][r.length-p-1]=i})}),n},E=()=>{if(m.input){let t=m.input.map(e=>e.split("")),n=u(t);n=f(n),t=h(n);const a=t.length,p=t.map((e,c)=>e.map((o,l)=>o==="O"?a-c:0).reduce((o,l)=>o+l,0)).reduce((e,c)=>e+c,0);t=m.input.map(e=>e.split(""));let r={};const i=1e9;let s=0;for(t=u(t),t=u(t);s<i;){let e=t.map(o=>o.concat());for(let o=0;o<4;o++)e=h(e),e=f(e);t=e;const c=JSON.stringify(e);if(s++,r[c]){const o=s-r[c];s+=Math.floor((i-s)/o)*o,r={}}else r[c]=s}t=h(t),t=h(t);const w=t.map((e,c)=>e.map((o,l)=>o==="O"?a-c:0).reduce((o,l)=>o+l,0)).reduce((e,c)=>e+c,0);_("onFinished",p,w)}};return y(()=>m.input,()=>E(),{immediate:!0}),(t,n)=>(O(),C("span"))}});export{k as default};

import{a3 as g,o as v,c as f}from"./index-CnK_7tNg.js";const b=g({__name:"D4",props:{input:{}},emits:["onFinished"],setup(c,{emit:l}){const r=c,u=l;if(r.input){const p=/Card\s+(?<card>\d+): (?<winning>.+) \| (?<having>.+)/,t=r.input.map(n=>{var a;const e=(a=n.match(p))==null?void 0:a.groups;if(e){const o=e.winning.trim().split(/\s+/).map(Number),i=e.having.trim().split(/\s+/).map(Number).filter(d=>o.includes(d)).length;return{overlap:i,value:i>0?Math.pow(2,i-1):0}}else return{overlap:0,value:0}}),m=t.map(n=>n.value).reduce((n,e)=>n+e,0),s={};t.forEach((n,e)=>{s[e]=1});for(let n=0;n<t.length;n++){const e=s[n];if(t[n].overlap>0){const a=Math.min(t.length,n+1+t[n].overlap);for(let o=n+1;o<a;o++)s[o]+=e}}const h=Object.values(s).reduce((n,e)=>n+e,0);u("onFinished",m,h)}return(p,t)=>(v(),f("span"))}});export{b as default};
